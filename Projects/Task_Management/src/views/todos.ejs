<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Your Tasks</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gradient-to-tr from-blue-50 to-indigo-100  text-gray-100">

  <%- include('partials/header') %>

    <main class="max-w-4xl mx-auto px-6 py-10 min-h-screen">
      <% if (message) { %>
        <div class="bg-red-100 text-red-800 px-4 py-3 rounded-md text-center shadow mb-6">
          <p class="font-medium">
            <%= message %>
          </p>
          <a href="/users/login"
            class="inline-block mt-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded transition">Login</a>
        </div>
        <% } else if (todos.length===0) { %>
          <div class="text-center text-gray-400 text-lg mt-10">
            You don't have any tasks yet.
          </div>
          <% } else { %>
            <h2 class="text-3xl font-bold text-center mb-6 text-gray-900">ğŸ“ Your Tasks</h2>
            <ul class="grid sm:grid-cols-2 gap-6">
              <% todos.forEach(todo=> { %>
                <li
                  class="bg-white p-5 rounded-xl shadow-md hover:shadow-xl transition border-l-4 border-blue-500 text-gray-900">
                  <a href="/task/<%= todo._id %>">
                    <h3 class="text-xl font-semibold mb-2 truncate hover:text-blue-700">
                      <%= todo.title %>
                    </h3>
                  </a>

                  <div class="text-sm flex justify-between items-center">

                    <span class="text-gray-500">Due: <%= todo.dueDate ? todo.dueDate.toDateString() : "No due date" %>
                    </span>
                  </div>
                </li>
                <% }); %>
            </ul>
            <% } %>

              <div class="fixed bottom-8 right-8">
                <a href="/task/add-task"
                  class="bg-blue-600 hover:bg-blue-700 text-white font-medium px-5 py-3 rounded-full shadow-lg transition text-sm">
                  + Create Task
                </a>
              </div>

    </main>

    <%- include('partials/footer') %>
</body>

</html>