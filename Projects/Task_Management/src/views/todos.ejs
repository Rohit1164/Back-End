<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Your Tasks</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-950 ">

  <%- include('partials/header') %>

    <main class="max-w-3xl mx-auto m-10 bg-white p-6 rounded shadow min-h-screen">

      <% if (message) { %>
        <div class="text-center text-red-600 text-lg font-semibold grid">
          <%= message %>
            <a href="/users/login" class="bg-blue-600 rounded-md text-white px-3 py-1 text-center max-w-3xl">login</a>
        </div>
        <% } else if (todos.length===0) { %>
          <div class="text-center text-gray-500 text-lg">
            You don't have any tasks yet.
          </div>
          <% } else { %>
            <h2 class="text-2xl font-bold mb-4 text-center">Your Tasks</h2>
            <ul class="space-y-4">
              <% todos.forEach(todo=> { %>
                <li class="border p-4 rounded shadow">
                  <a href="/task/:id">
                    <h3 class="text-xl font-semibold">
                      <%= todo.title %>
                    </h3>
                  </a>
                  <p class="text-gray-700">
                    <%= todo.description %>
                  </p>
                  <p class="text-sm text-gray-500">Priority: <%= todo.priority %>
                  </p>
                  <p class="text-sm text-gray-500">Due: <%= todo.dueDate ? todo.dueDate.toDateString() : "No due date"
                      %>
                  </p>
                </li>
                <% }); %>
            </ul>
            <% } %>
              <a href="/task/add-task" class="bg-blue-600 rounded-md text-white px-3 py-1 text-center max-w-3xl">create
                Task</a>
    </main>
    <%- include('partials/footer') %>
</body>

</html>